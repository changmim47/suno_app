<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Suno í”„ë¡¬í”„íŠ¸ ë¹Œë”</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Noto Sans KR', sans-serif;
      background: linear-gradient(135deg, #e0e7ff 0%, #f0f9ff 100%);
      color: #1e293b;
      min-height: 100vh;
    }
    .glass {
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(8px);
      border: 1px solid rgba(255, 255, 255, 0.3);
      box-shadow: 0 8px 24px rgba(0,0,0,0.05);
    }
    .chip {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 6px 12px;
      border-radius: 9999px;
      border: 1px solid #cbd5e1;
      background-color: white;
      color: #334155;
      font-size: 0.875rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    .chip:hover { background-color: #f1f5f9; transform: scale(1.05); }
    .chip.selected {
      background: linear-gradient(135deg, #6366f1, #3b82f6);
      color: white;
      border-color: transparent;
      box-shadow: 0 2px 8px rgba(99,102,241,0.3);
    }
    #tag-scroll { height: calc(100vh - 180px); overflow-y: auto; padding-right: 8px; }
    #tag-scroll::-webkit-scrollbar { width: 6px; }
    #tag-scroll::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 3px; }
    #tag-scroll::-webkit-scrollbar-thumb:hover { background-color: #94a3b8; }
    textarea { resize: none; transition: 0.3s; }
    textarea:focus { outline: none; box-shadow: 0 0 0 3px rgba(99,102,241,0.3); }
    button.action {
      background: linear-gradient(135deg, #6366f1, #3b82f6);
      color: white;
      font-weight: 600;
      border: none;
      border-radius: 0.75rem;
      padding: 0.5rem 1rem;
      transition: 0.2s;
    }
    button.action:hover { opacity: 0.9; transform: scale(1.03); }
  </style>
</head>

<body>
  <div class="max-w-7xl mx-auto px-4 py-6">
    <!-- HEADER -->
    <header class="flex flex-col md:flex-row justify-between items-center gap-3 mb-6">
      <h1 class="text-3xl font-bold flex items-center gap-3 text-indigo-600 drop-shadow-sm">
        ğŸ§ <span>Suno í”„ë¡¬í”„íŠ¸ ë¹Œë”</span>
      </h1>
      <div class="flex gap-2 flex-wrap">
        <button id="btn-contrast" class="glass px-3 py-2 rounded-lg hover:bg-indigo-50">ê³ ëŒ€ë¹„</button>
        <button id="btn-random" class="glass px-3 py-2 rounded-lg hover:bg-indigo-50">ëœë¤</button>
        <button id="btn-clear" class="glass px-3 py-2 rounded-lg hover:bg-indigo-50">ì´ˆê¸°í™”</button>
        <button id="btn-export" class="glass px-3 py-2 rounded-lg hover:bg-indigo-50">ë‚´ë³´ë‚´ê¸°</button>
        <label class="glass px-3 py-2 rounded-lg hover:bg-indigo-50 cursor-pointer">
          ê°€ì ¸ì˜¤ê¸°
          <input id="file-import" type="file" accept="application/json" class="hidden" />
        </label>
      </div>
    </header>

    <!-- MAIN GRID -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
      <!-- TAG AREA -->
      <div id="tag-scroll" class="glass rounded-2xl p-5 lg:col-span-2">
        <h2 class="text-xl font-semibold mb-4 text-slate-700">ğŸ¨ íƒœê·¸ ì„ íƒ</h2>

        <!-- PRESETS -->
        <div id="presets" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-6"></div>

        <!-- TAG SECTIONS -->
        <div id="tag-sections" class="grid md:grid-cols-2 gap-6 mb-6"></div>

        <!-- âœ… ì¶”ê°€ëœ ì‚¬ìš´ë“œ ì„¤ì • -->
        <div class="border-t border-indigo-100 pt-4">
          <h3 class="text-lg font-semibold text-indigo-700 mb-3">ğŸ§ ì‚¬ìš´ë“œ ì„¤ì •</h3>
          <div class="space-y-4">
            <div>
              <label class="font-medium text-slate-700">BPM: <span id="bpmValue">72</span></label>
              <input id="bpm" type="range" min="50" max="160" value="72" class="w-full accent-indigo-500">
            </div>
            <div>
              <label class="font-medium text-slate-700">ê¸¸ì´(ì´ˆ): <span id="lenValue">120</span></label>
              <input id="length" type="range" min="30" max="240" value="120" class="w-full accent-indigo-500">
            </div>
            <div class="flex flex-wrap gap-4 text-slate-700">
              <label><input type="checkbox" id="vinyl" class="mr-1 accent-indigo-500">ë¹„ë‹ í¬ë™/ë ˆì¸ ì‚¬ìš´ë“œ í¬í•¨</label>
              <label><input type="checkbox" id="instrumental" checked class="mr-1 accent-indigo-500">ë³´ì»¬ ì—†ìŒ (Instrumental)</label>
            </div>
          </div>
        </div>
      </div>

      <!-- PROMPT AREA -->
      <div class="lg:sticky lg:top-6 h-fit">
        <section class="glass rounded-2xl p-5 shadow-md">
          <div class="mb-4 border-b border-slate-200 pb-3">
            <h3 class="text-lg font-semibold flex items-center gap-2 text-indigo-700">
              ğŸ§¾ <span>ìƒì„±ëœ í”„ë¡¬í”„íŠ¸</span>
            </h3>
          </div>

          <div class="relative mb-4">
            <textarea id="prompt"
              class="w-full h-64 p-4 rounded-xl border border-indigo-100 bg-indigo-50/40 text-slate-800
                     focus:outline-none focus:ring-2 focus:ring-indigo-300 focus:bg-white transition duration-200 ease-in-out"
              placeholder="íƒœê·¸ë¥¼ ì„ íƒí•˜ë©´ í”„ë¡¬í”„íŠ¸ê°€ í‘œì‹œë©ë‹ˆë‹¤."></textarea>
            <div class="absolute inset-0 rounded-xl pointer-events-none shadow-inner shadow-slate-200"></div>
          </div>

          <div class="flex justify-end gap-2">
            <button id="btn-copy" class="action w-28 text-sm font-semibold leading-tight">í”„ë¡¬í”„íŠ¸<br>ë³µì‚¬</button>
            <button id="btn-copy-title" class="action w-28 text-sm font-semibold leading-tight bg-sky-500 hover:bg-sky-600">ì œëª©<br>ë³µì‚¬</button>
            <button id="btn-copy-both" class="action w-28 text-sm font-semibold leading-tight bg-violet-500 hover:bg-violet-600">ë‘˜ ë‹¤<br>ë³µì‚¬</button>
          </div>
        </section>
      </div>
    </div>
  </div>

  <script>
    const el = s => document.querySelector(s);

    // =============== ë°ì´í„° ===============
    const moods = ['calm','dreamy','nostalgic','cozy','melancholic','uplifting','romantic','sentimental','hopeful','lonely','ambient','cinematic','epic','mystical','eerie','dramatic','dark','bright','energetic','relaxing','peaceful','retro','vintage','futuristic','minimalistic','lofi','chill','groovy','cool'];
    const genres = ['lofi','chillhop','jazzhop','ambient','cinematic','synthwave','retrowave','house','deep house','tropical house','future bass','trap','hiphop','boom bap','r&b','neo soul','pop','acoustic','folk','indie','orchestral','soundtrack','piano solo','instrumental ballad'];
    const instruments = ['piano','electric piano','grand piano','acoustic guitar','electric guitar','jazz guitar','bass guitar','warm bass','synth bass','soft drums','acoustic drums','lofi drum kit','analog synth','pad','strings','violin','flute','saxophone','808'];
    const textures = ['vinyl crackle','tape hiss','analog warmth','room reverb','tape saturation','soft distortion','rain ambience','wind ambience','city ambience'];
    const grooves = ['steady 4/4','slow swing','bossa nova','trip-hop','boom bap','uptempo 2-step','groovy funk','half-time beat'];
    const tones = ['warm','bright','dark','soft','crisp','dusty','clear','smooth','thick','airy','vintage','modern'];
    const themes = ['morning coffee','rainy night','midnight drive','study time','focus mode','sunset chill','reading time','dreamscape','city lights','road trip'];
    const tags = { moods, genres, instruments, textures, grooves, tones, themes };

    const labelMap = {
    // moods
    calm: 'ì”ì”í•œ', dreamy: 'ëª½í™˜ì ì¸', nostalgic: 'í–¥ìˆ˜ ì–´ë¦°', cozy: 'í¬ê·¼í•œ', melancholic: 'ìš°ìš¸í•œ',
    uplifting: 'í¬ë§ì°¬', romantic: 'ë¡œë§¨í‹±í•œ', sentimental: 'ì„¼ì¹˜í•œ', hopeful: 'í¬ë§ì ì¸', lonely: 'ì™¸ë¡œìš´',
    ambient: 'ê³ ìš”í•œ', cinematic: 'ì‹œë„¤ë§ˆí‹±', epic: 'ì›…ì¥í•œ', mystical: 'ì‹ ë¹„ë¡œìš´', eerie: 'ì˜¤ì‹¹í•œ',
    dramatic: 'ë“œë¼ë§ˆí‹±', dark: 'ì–´ë‘ìš´', bright: 'ë°ì€', energetic: 'ì—ë„ˆì œí‹±', relaxing: 'í¸ì•ˆí•œ',
    peaceful: 'í‰í™”ë¡œìš´', retro: 'ë ˆíŠ¸ë¡œ', vintage: 'ë¹ˆí‹°ì§€', futuristic: 'ë¯¸ë˜ì§€í–¥', minimalistic: 'ë¯¸ë‹ˆë©€',
    lofi: 'ë¡œíŒŒì´', chill: 'ì¹ ', groovy: 'ê·¸ë£¨ë¹„', cool: 'ì¿¨',

    // genres
    chillhop: 'ì¹ í•©', jazzhop: 'ì¬ì¦ˆí•©', ambient: 'ì•°ë¹„ì–¸íŠ¸', cinematic: 'ì‹œë„¤ë§ˆí‹±',
    synthwave: 'ì‹ ìŠ¤ì›¨ì´ë¸Œ', retrowave: 'ë ˆíŠ¸ë¡œì›¨ì´ë¸Œ', house: 'í•˜ìš°ìŠ¤',
    'deep house': 'ë”¥í•˜ìš°ìŠ¤', 'tropical house': 'íŠ¸ë¡œí”¼ì»¬ í•˜ìš°ìŠ¤', 'future bass': 'í“¨ì²˜ë² ì´ìŠ¤',
    trap: 'íŠ¸ë©', hiphop: 'í™í•©', 'boom bap': 'ë¶ë±', 'r&b': 'ì•Œì•¤ë¹„', 'neo soul': 'ë„¤ì˜¤ì†Œìš¸',
    pop: 'íŒ', acoustic: 'ì–´ì¿ ìŠ¤í‹±', folk: 'í¬í¬', indie: 'ì¸ë””', orchestral: 'ì˜¤ì¼€ìŠ¤íŠ¸ë¼',
    soundtrack: 'ì‚¬ìš´ë“œíŠ¸ë™', 'piano solo': 'í”¼ì•„ë…¸ ì†”ë¡œ', 'instrumental ballad': 'ì—°ì£¼ ë°œë¼ë“œ',

    // instruments
    piano: 'í”¼ì•„ë…¸', 'electric piano': 'ì¼ë ‰ í”¼ì•„ë…¸', 'grand piano': 'ê·¸ëœë“œ í”¼ì•„ë…¸',
    'acoustic guitar': 'í†µê¸°íƒ€', 'electric guitar': 'ì¼ë ‰ ê¸°íƒ€', 'jazz guitar': 'ì¬ì¦ˆ ê¸°íƒ€',
    'bass guitar': 'ë² ì´ìŠ¤', 'warm bass': 'ì›œ ë² ì´ìŠ¤', 'synth bass': 'ì‹ ìŠ¤ ë² ì´ìŠ¤',
    'soft drums': 'ì†Œí”„íŠ¸ ë“œëŸ¼', 'acoustic drums': 'ì–´ì¿ ìŠ¤í‹± ë“œëŸ¼', 'lofi drum kit': 'ë¡œíŒŒì´ ë“œëŸ¼',
    'analog synth': 'ì•„ë‚ ë¡œê·¸ ì‹ ìŠ¤', pad: 'íŒ¨ë“œ', strings: 'ìŠ¤íŠ¸ë§', violin: 'ë°”ì´ì˜¬ë¦°',
    flute: 'í”Œë£¨íŠ¸', saxophone: 'ìƒ‰ì†Œí°', '808': '808 ë² ì´ìŠ¤',

    // textures
    'vinyl crackle': 'ë¹„ë‹ í¬ë™', 'tape hiss': 'í…Œì´í”„ íˆìŠ¤', 'analog warmth': 'ì•„ë‚ ë¡œê·¸ ì§ˆê°',
    'room reverb': 'ë£¸ ë¦¬ë²„ë¸Œ', 'tape saturation': 'í…Œì´í”„ ìƒˆì¸„ë ˆì´ì…˜',
    'soft distortion': 'ì†Œí”„íŠ¸ ë””ìŠ¤í† ì…˜', 'rain ambience': 'ë¹„ ì‚¬ìš´ë“œ',
    'wind ambience': 'ë°”ëŒ ì‚¬ìš´ë“œ', 'city ambience': 'ë„ì‹œ ì‚¬ìš´ë“œ',

    // grooves
    'steady 4/4': 'ìŠ¤í…Œë”” 4/4', 'slow swing': 'ìŠ¬ë¡œìš° ìŠ¤ìœ™', 'bossa nova': 'ë³´ì‚¬ë…¸ë°”',
    'trip-hop': 'íŠ¸ë¦½í•©', 'boom bap': 'ë¶ë±', 'uptempo 2-step': 'ì—…í…œí¬ 2ìŠ¤í…',
    'groovy funk': 'ê·¸ë£¨ë¹„ í‘í¬', 'half-time beat': 'í•˜í”„íƒ€ì„ ë¹„íŠ¸',

    // tones
    warm: 'ë”°ëœ»í•œ í†¤', bright: 'ë°ì€ í†¤', dark: 'ì–´ë‘ìš´ í†¤', soft: 'ë¶€ë“œëŸ¬ìš´ í†¤',
    crisp: 'ì„ ëª…í•œ í†¤', dusty: 'ë¨¼ì§€ ë‚€ í†¤', clear: 'ë§‘ì€ í†¤', smooth: 'ë§¤ëˆí•œ í†¤',
    thick: 'ë‘í„°ìš´ í†¤', airy: 'ê³µê¸°ê° í†¤', vintage: 'ë¹ˆí‹°ì§€ í†¤', modern: 'ëª¨ë˜ í†¤',

    // themes
    'morning coffee': 'ì•„ì¹¨ ì»¤í”¼', 'rainy night': 'ë¹„ ì˜¤ëŠ” ë°¤', 'midnight drive': 'ìì • ë“œë¼ì´ë¸Œ',
    'study time': 'ê³µë¶€ ì‹œê°„', 'focus mode': 'ì§‘ì¤‘ ëª¨ë“œ', 'sunset chill': 'ë…¸ì„ ê°ì„±',
    'reading time': 'ë…ì„œ ì‹œê°„', dreamscape: 'ë“œë¦¼ìŠ¤ì¼€ì´í”„', 'city lights': 'ë„ì‹œ ë¶ˆë¹›',
    'road trip': 'ë¡œë“œ íŠ¸ë¦½'
    };


    
    const presets = [
      { name: 'ê³µë¶€ìš© Lofi', tags: ['calm','lofi','piano','warm','steady 4/4','study time'] },
      { name: 'ë¹„ì˜¤ëŠ” ë‚  ê°ì„±', tags: ['melancholic','jazzhop','piano','vinyl crackle','slow swing','rainy night'] },
      { name: 'ë“œë¼ì´ë¸Œ Chill', tags: ['uplifting','synthwave','electric guitar','groovy funk','bright','midnight drive'] },
      { name: 'ì‹œë„¤ë§ˆí‹± ì›…ì¥', tags: ['cinematic','strings','pad','epic','fast','dreamscape'] },
      { name: 'ë ˆíŠ¸ë¡œ íŒ', tags: ['retro','pop','bright','analog synth','steady 4/4'] },
      { name: 'ì½”ì§€ ë‚˜ì‡', tags: ['cozy','acoustic guitar','warm','relaxing','cozy bedroom'] }
    ];

    // =============== ìƒíƒœ ===============
    const state = { selected: new Set(), bpm: 72, length: 120, vinyl: false, instrumental: true };

    // =============== ë Œë”ë§ ===============
    function renderTags() {
    const tagBox = el('#tag-sections');
    tagBox.innerHTML = '';
    Object.entries(tags).forEach(([category, list]) => {
        const sec = document.createElement('div');
        sec.innerHTML = `<h3 class="text-sm font-semibold mb-2 text-indigo-600">${category}</h3>`;
        const box = document.createElement('div');
        box.className = 'flex flex-wrap gap-2';
        list.forEach(tag => {
        const btn = document.createElement('button');
        // ğŸ‘‡ í‘œì‹œë§Œ í•œê¸€, ê°’ì€ ì˜ë¬¸ ê·¸ëŒ€ë¡œ ì‚¬ìš©
        btn.textContent = labelMap[tag] || tag;
        btn.className = 'chip' + (state.selected.has(tag) ? ' selected' : '');
        btn.addEventListener('click', () => {
            if (state.selected.has(tag)) state.selected.delete(tag);
            else state.selected.add(tag);
            renderTags(); updatePrompt(); save();
        });
        box.appendChild(btn);
        });
        sec.appendChild(box);
        tagBox.appendChild(sec);
    });
    }

    function renderPresets() {
      const box = el('#presets');
      box.innerHTML = '';
      presets.forEach(p => {
        const btn = document.createElement('button');
        btn.textContent = `ğŸµ ${p.name}`;
        btn.className = 'glass w-full text-left px-4 py-3 rounded-xl hover:bg-indigo-50 transition';
        btn.addEventListener('click', () => {
          state.selected = new Set(p.tags);
          renderTags(); updatePrompt(); save();
        });
        box.appendChild(btn);
      });
    }

    // =============== í”„ë¡¬í”„íŠ¸ ìƒì„± ===============
    function updatePrompt() {
      const arr = [...state.selected];
      const bpm = `BPM ${state.bpm}`;
      const len = `${state.length}s`;
      const vinyl = state.vinyl ? 'with vinyl crackle / rain ambience' : '';
      const vocal = state.instrumental ? 'instrumental only' : 'with vocal';
      el('#prompt').value = arr.length
        ? `${arr.join(', ')} | ${bpm}, ${len}, ${vinyl}, ${vocal}`.trim()
        : 'íƒœê·¸ë¥¼ ì„ íƒí•˜ë©´ í”„ë¡¬í”„íŠ¸ê°€ í‘œì‹œë©ë‹ˆë‹¤.';
    }

    // =============== ì»¨íŠ¸ë¡¤ ë°”ì¸ë”© ===============
    function bindControls() {
      el('#bpm').oninput = e => { state.bpm = +e.target.value; el('#bpmValue').textContent = state.bpm; updatePrompt(); };
      el('#length').oninput = e => { state.length = +e.target.value; el('#lenValue').textContent = state.length; updatePrompt(); };
      el('#vinyl').onchange = e => { state.vinyl = e.target.checked; updatePrompt(); };
      el('#instrumental').onchange = e => { state.instrumental = e.target.checked; updatePrompt(); };
    }

    // =============== ë²„íŠ¼/ì €ì¥ ê´€ë ¨ ===============
    function save() { localStorage.setItem('suno_tags', JSON.stringify([...state.selected])); }
    function load() { state.selected = new Set(JSON.parse(localStorage.getItem('suno_tags') || '[]')); }

    function bindButtons() {
      el('#btn-copy').onclick = () => navigator.clipboard.writeText(el('#prompt').value);
      el('#btn-copy-title').onclick = () => navigator.clipboard.writeText([...state.selected].slice(0, 3).join(' / ') || 'ë¬´ì œ');
      el('#btn-copy-both').onclick = () => navigator.clipboard.writeText([...state.selected].slice(0, 3).join(' / ') + '\n' + el('#prompt').value);
      el('#btn-clear').onclick = () => { state.selected.clear(); renderTags(); updatePrompt(); save(); };
      el('#btn-random').onclick = () => {
        const all = Object.values(tags).flat();
        const random = all.sort(() => Math.random() - 0.5).slice(0, 8);
        state.selected = new Set(random);
        renderTags(); updatePrompt(); save();
      };
      el('#btn-contrast').onclick = () => document.body.classList.toggle('invert');
      el('#btn-export').onclick = () => {
        const blob = new Blob([JSON.stringify([...state.selected], null, 2)], { type: 'application/json' });
        const a = document.createElement('a');
        a.href = URL.createObjectURL(blob);
        a.download = 'suno_tags.json';
        a.click();
      };
      el('#file-import').onchange = e => {
        const f = e.target.files[0];
        if (!f) return;
        const r = new FileReader();
        r.onload = () => { state.selected = new Set(JSON.parse(r.result)); renderTags(); updatePrompt(); save(); };
        r.readAsText(f);
      };
    }

    document.addEventListener('DOMContentLoaded', () => {
      load(); renderPresets(); renderTags(); updatePrompt(); bindButtons(); bindControls();
    });
  </script>
</body>
</html>
